{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aspbo\\\\OneDrive\\\\Desktop\\\\CS35L project\\\\final_proj\\\\CS35L-BruinCalendar\\\\src\\\\components\\\\EventList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const EventList = ({\n  dateClicked: day,\n  dateFormatted: dateFormatted\n}) => {\n  _s();\n\n  const {\n    currentUser\n  } = useAuth();\n  const db = firebase.firestore();\n  const [events, setEvents] = useState([]);\n  useEffect(() => {\n    const fetchEvents = async () => {\n      const data = await db.collection(\"events\").where('date', '==', day).get();\n      let usersEvents = [];\n\n      for (let item of data.docs) {\n        let event = item.data(); //console.log(event)\n\n        if (event.userId == currentUser.email || event.guest == currentUser.email) {\n          usersEvents.push(event);\n        }\n      }\n\n      setEvents(usersEvents);\n    };\n\n    fetchEvents();\n  }, [dateFormatted]);\n  let returnView;\n\n  if (events.length == 0) {\n    returnView = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No events to display\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 19\n    }, this);\n  } else {\n    returnView = events.map(event => {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [event.time, \": \", event.eventName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 16\n      }, this);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Events on \", dateFormatted, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: returnView\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(EventList, \"T4CcDRXtKvkBL62LU/wlMOFlg4w=\", false, function () {\n  return [useAuth];\n});\n\n_c = EventList;\nexport default EventList;\n\nvar _c;\n\n$RefreshReg$(_c, \"EventList\");","map":{"version":3,"sources":["C:/Users/aspbo/OneDrive/Desktop/CS35L project/final_proj/CS35L-BruinCalendar/src/components/EventList.js"],"names":["React","useState","useEffect","useAuth","firebase","EventList","dateClicked","day","dateFormatted","currentUser","db","firestore","events","setEvents","fetchEvents","data","collection","where","get","usersEvents","item","docs","event","userId","email","guest","push","returnView","length","map","time","eventName"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,SAAQC,OAAR,QAAsB,yBAAtB;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,OAAO,oBAAP;;;AAEA,OAAO,MAAMC,SAAS,GAAG,CAAC;AACxBC,EAAAA,WAAW,EAAEC,GADW;AAExBC,EAAAA,aAAa,EAAEA;AAFS,CAAD,KAGnB;AAAA;;AACJ,QAAM;AAAEC,IAAAA;AAAF,MAAkBN,OAAO,EAA/B;AACA,QAAMO,EAAE,GAAGN,QAAQ,CAACO,SAAT,EAAX;AACA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBZ,QAAQ,CAAC,EAAD,CAApC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AAChB,UAAMY,WAAW,GAAG,YAAY;AAC/B,YAAMC,IAAI,GAAG,MAAML,EAAE,CAACM,UAAH,CAAc,QAAd,EAAwBC,KAAxB,CAA8B,MAA9B,EAAsC,IAAtC,EAA4CV,GAA5C,EAAiDW,GAAjD,EAAnB;AACG,UAAIC,WAAW,GAAG,EAAlB;;AACA,WAAK,IAAIC,IAAT,IAAiBL,IAAI,CAACM,IAAtB,EAA2B;AACzB,YAAIC,KAAK,GAAGF,IAAI,CAACL,IAAL,EAAZ,CADyB,CAEzB;;AACA,YAAGO,KAAK,CAACC,MAAN,IAAgBd,WAAW,CAACe,KAA5B,IAAqCF,KAAK,CAACG,KAAN,IAAehB,WAAW,CAACe,KAAnE,EAAyE;AACvEL,UAAAA,WAAW,CAACO,IAAZ,CAAiBJ,KAAjB;AACD;AACF;;AACJT,MAAAA,SAAS,CAACM,WAAD,CAAT;AAEA,KAZD;;AAaAL,IAAAA,WAAW;AACX,GAfS,EAeP,CAACN,aAAD,CAfO,CAAT;AAgBA,MAAImB,UAAJ;;AACA,MAAGf,MAAM,CAACgB,MAAP,IAAiB,CAApB,EAAsB;AACpBD,IAAAA,UAAU,gBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAd;AACD,GAFD,MAGI;AACFA,IAAAA,UAAU,GAAGf,MAAM,CAACiB,GAAP,CAAYP,KAAD,IACtB;AACE,0BAAO;AAAA,mBAAKA,KAAK,CAACQ,IAAX,QAAmBR,KAAK,CAACS,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAHU,CAAb;AAID;;AAEC,sBACA;AAAA,4BACC;AAAA,+BAAgBvB,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAEI;AAAA,gBACKmB;AADL;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA,kBADA;AAQH,CA3CM;;GAAMtB,S;UAIaF,O;;;KAJbE,S;AA4Cb,eAAeA,SAAf","sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport {useAuth} from '../contexts/AuthContext'\r\nimport firebase from 'firebase/app'\r\nimport 'firebase/firestore';\r\n\r\nexport const EventList = ({\r\n  dateClicked: day,\r\n  dateFormatted: dateFormatted,\r\n}) => {\r\n  const { currentUser } = useAuth()\r\n  const db = firebase.firestore()\r\n  const [events, setEvents] = useState([])\r\n\r\n  useEffect(() => {\r\n\t\tconst fetchEvents = async () => {\r\n\t\t\tconst data = await db.collection(\"events\").where('date', '==', day).get()\r\n      let usersEvents = [];\r\n      for (let item of data.docs){\r\n        let event = item.data()\r\n        //console.log(event)\r\n        if(event.userId == currentUser.email || event.guest == currentUser.email){\r\n          usersEvents.push(event)\r\n        }\r\n      }\r\n\t\t\tsetEvents(usersEvents)\r\n\r\n\t\t}\r\n\t\tfetchEvents()\r\n\t}, [dateFormatted])\r\n  let returnView;\r\n  if(events.length == 0){\r\n    returnView =  <p>No events to display</p>\r\n  }\r\n  else{\r\n    returnView = events.map((event) =>\r\n      {\r\n        return <li>{event.time}: {event.eventName}</li>\r\n      })\r\n  }\r\n\r\n    return (\r\n\t  \t<>\r\n\t  \t\t<h2>Events on { dateFormatted } </h2>\r\n        <ul>\r\n            {returnView}\r\n        </ul>\r\n\t  \t</>\r\n  \t);\r\n}\r\nexport default EventList;"]},"metadata":{},"sourceType":"module"}