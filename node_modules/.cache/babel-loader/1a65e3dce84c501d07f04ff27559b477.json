{"ast":null,"code":"var _jsxFileName = \"/Users/danielferguson/Documents/School/4th Year /Spring 2021/35L/Project/CS35L-BruinCalendar/src/components/EventList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport { useAuth } from '../contexts/AuthContext';\nimport { Link, useHistory } from 'react-router-dom';\nimport Users from \"./Users\";\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport Sidebar from '../feature/Sidebar';\nimport Header from './Header';\nimport './FriendList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const EventList = ({\n  dateClicked: day,\n  dateFormatted: dateFormatted\n}) => {\n  _s();\n\n  const {\n    currentUser\n  } = useAuth();\n  const db = firebase.firestore();\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    const fetchEvents = async () => {\n      const data = await db.collection(\"events\").where('date', '==', day).get();\n      let usersEvents = [];\n\n      for (let item of data.docs) {\n        let event = item.data(); //console.log(event)\n\n        if (event.userId == currentUser.email || event.guest == currentUser.email) {\n          usersEvents.push(event);\n        }\n      }\n\n      setUsers(usersEvents);\n    };\n\n    fetchEvents();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Events on \", dateFormatted, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 6\n    }, this)\n  }, void 0, false);\n};\n\n_s(EventList, \"HmEFqU22A+jb2EMeOvdLL9q79aM=\", false, function () {\n  return [useAuth];\n});\n\n_c = EventList;\nexport default EventList; // import React from 'react'\n// import Event from \"./Event\"\n// import { Container, Button } from 'react-bootstrap'\n// import { Modal, ModalHeader, ModalBody, ModalFooter} from 'reactstrap'\n// import 'bootstrap/dist/css/bootstrap.min.css'\n// class Eventlist extends React.Component {\n//   state = {\n//     modalIsOpen: false,\n//   }\n//   toggleModal() {\n//     this.setState({\n//       modalIsOpen: ! this.state.modalIsOpen,\n//     });\n//   }\n//   render() {\n//     return (\n//       <Container>\n//         <h2>Event list</h2>\n//         <Button \n//         color=\"primary\" \n//         size=\"sm\" \n//         onClick={this.toggleModal.bind(this)}>\n//           Add Event\n//         </Button>\n//         <Modal isOpen={this.state.modalIsOpen}>\n//           <ModalHeader toggle={this.toggleModal.bind(this)}>Create Event</ModalHeader>\n//           <ModalBody>Modal Body</ModalBody>\n//           <ModalFooter>\n//             <Button color=\"primary\">Save</Button>\n//             <Button color=\"secondary\" onClick={this.toggleModal.bind(this)}>Cancel</Button>        \n//           </ModalFooter>\n//         </Modal>\n//         <Event />\n//       </Container>\n//     )\n//   }\n// }\n// export default Eventlist;\n\n/* https://youtu.be/qPF_7wl_sYI Modal and button */\n// ===============================================================================================\n// import {Container, Button, Modal, Row, Col} from 'react-bootstrap'\n// import React from 'react'\n// import Event from \"./Event\"\n// import './Eventlist.cimport 'bootstrap/dist/css/bootstrap.min.css'\n// \n// class Eventlist extends React.Component {\n// constructor() {    // super()\n// this.state=  // show:false,\n// }\n// }\n// handleModal(){\n// this.setState({show:true})\n// \n// }\n// render(){\n// return (\n// <Container className=\"Eventlis        {/* <Row id=\"Elist\"> */}\n// <h1>Event list</h1>\n// </Row>\n// <Row id=\"Button\">\n\n{\n  /* <Button onClick={() => {this.handleModal()}}>Add Event</Button> */\n}\n{\n  /* <Modal show={this.state.show}> */\n}\n{\n  /* <Modal.Header>Header</Modal.Header> */\n}\n{\n  /* <Modal.Body>body</Modal.Body> */\n}\n{\n  /* <Modal.Footer> */\n}\n{\n  /* <Button color=\"primary\">Save</Button> */\n}\n{\n  /* <Button color=\"secondary\">Cancel</Button>               */\n}\n{\n  /* </Modal.Footer> */\n}\n{\n  /* </Modal> */\n}\n{\n  /* </Row> */\n} // <Row>\n\n{\n  /* <Event /> */\n}\n{\n  /* </Row> */\n} // </Container>\n// )\n// }\n// }\n// export default Eventlist; \n\nvar _c;\n\n$RefreshReg$(_c, \"EventList\");","map":{"version":3,"sources":["/Users/danielferguson/Documents/School/4th Year /Spring 2021/35L/Project/CS35L-BruinCalendar/src/components/EventList.js"],"names":["React","useRef","useState","useEffect","Form","Button","Alert","useAuth","Link","useHistory","Users","firebase","Sidebar","Header","EventList","dateClicked","day","dateFormatted","currentUser","db","firestore","users","setUsers","fetchEvents","data","collection","where","get","usersEvents","item","docs","event","userId","email","guest","push"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,MAAf,EAAuBC,QAAvB,EAAiCC,SAAjC,QAAiD,OAAjD;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,KAAvB,QAAmC,iBAAnC;AACA,SAAQC,OAAR,QAAsB,yBAAtB;AACA,SAAQC,IAAR,EAAcC,UAAd,QAA+B,kBAA/B;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,OAAO,oBAAP;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAO,kBAAP;;;AAEA,OAAO,MAAMC,SAAS,GAAG,CAAC;AACxBC,EAAAA,WAAW,EAAEC,GADW;AAExBC,EAAAA,aAAa,EAAEA;AAFS,CAAD,KAGnB;AAAA;;AACJ,QAAM;AAAEC,IAAAA;AAAF,MAAkBX,OAAO,EAA/B;AACA,QAAMY,EAAE,GAAGR,QAAQ,CAACS,SAAT,EAAX;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBpB,QAAQ,CAAC,EAAD,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AAChB,UAAMoB,WAAW,GAAG,YAAY;AAC/B,YAAMC,IAAI,GAAG,MAAML,EAAE,CAACM,UAAH,CAAc,QAAd,EAAwBC,KAAxB,CAA8B,MAA9B,EAAsC,IAAtC,EAA4CV,GAA5C,EAAiDW,GAAjD,EAAnB;AACG,UAAIC,WAAW,GAAG,EAAlB;;AACA,WAAK,IAAIC,IAAT,IAAiBL,IAAI,CAACM,IAAtB,EAA2B;AACzB,YAAIC,KAAK,GAAGF,IAAI,CAACL,IAAL,EAAZ,CADyB,CAEzB;;AACA,YAAGO,KAAK,CAACC,MAAN,IAAgBd,WAAW,CAACe,KAA5B,IAAqCF,KAAK,CAACG,KAAN,IAAehB,WAAW,CAACe,KAAnE,EAAyE;AACvEL,UAAAA,WAAW,CAACO,IAAZ,CAAiBJ,KAAjB;AACD;AACF;;AACJT,MAAAA,QAAQ,CAACM,WAAD,CAAR;AAEA,KAZD;;AAaAL,IAAAA,WAAW;AACX,GAfS,EAeP,EAfO,CAAT;AAiBE,sBACA;AAAA,2BACC;AAAA,+BAAgBN,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AADD,mBADA;AAKH,CA9BM;;GAAMH,S;UAIaP,O;;;KAJbO,S;AA+Bb,eAAeA,SAAf,C,CAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACI;AACA;AACF;AACA;AACA;AACF;AACE;AACA;AACE;AACE;AACI;AACF;AACA;;AACE;AAAC;AAAsE;AACvE;AAAC;AAAqC;AACpC;AAAC;AAA0C;AAC3C;AAAC;AAAoC;AACrC;AAAC;AAAqB;AACpB;AAAC;AAA4C;AAC7C;AAAC;AAA8D;AACjE;AAAC;AAAsB;AACzB;AAAC;AAAe;AAClB;AAAC;AAAa,C,CACd;;AACE;AAAC;AAAgB;AACnB;AAAC;AAAa,C,CAChB;AACF;AACF;AACF;AACA","sourcesContent":["import React, {useRef, useState, useEffect} from 'react';\r\nimport { Form, Button, Alert} from 'react-bootstrap';\r\nimport {useAuth} from '../contexts/AuthContext'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport Users from \"./Users\"\r\nimport firebase from 'firebase/app'\r\nimport 'firebase/firestore';\r\nimport Sidebar from '../feature/Sidebar';\r\nimport Header from './Header';\r\nimport './FriendList.css'\r\n\r\nexport const EventList = ({\r\n  dateClicked: day,\r\n  dateFormatted: dateFormatted,\r\n}) => {\r\n  const { currentUser } = useAuth()\r\n  const db = firebase.firestore()\r\n  const [users, setUsers] = useState([])\r\n\r\n  useEffect(() => {\r\n\t\tconst fetchEvents = async () => {\r\n\t\t\tconst data = await db.collection(\"events\").where('date', '==', day).get()\r\n      let usersEvents = [];\r\n      for (let item of data.docs){\r\n        let event = item.data()\r\n        //console.log(event)\r\n        if(event.userId == currentUser.email || event.guest == currentUser.email){\r\n          usersEvents.push(event)\r\n        }\r\n      }\r\n\t\t\tsetUsers(usersEvents)\r\n\r\n\t\t}\r\n\t\tfetchEvents()\r\n\t}, [])\r\n\r\n    return (\r\n\t  \t<>\r\n\t  \t\t<h2>Events on { dateFormatted } </h2>\r\n\t  \t</>\r\n  \t);\r\n}\r\nexport default EventList;\r\n\r\n\r\n// import React from 'react'\r\n// import Event from \"./Event\"\r\n// import { Container, Button } from 'react-bootstrap'\r\n// import { Modal, ModalHeader, ModalBody, ModalFooter} from 'reactstrap'\r\n// import 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\n// class Eventlist extends React.Component {\r\n//   state = {\r\n//     modalIsOpen: false,\r\n//   }\r\n\r\n//   toggleModal() {\r\n//     this.setState({\r\n//       modalIsOpen: ! this.state.modalIsOpen,\r\n//     });\r\n//   }\r\n\r\n//   render() {\r\n//     return (\r\n//       <Container>\r\n//         <h2>Event list</h2>\r\n//         <Button \r\n//         color=\"primary\" \r\n//         size=\"sm\" \r\n//         onClick={this.toggleModal.bind(this)}>\r\n//           Add Event\r\n//         </Button>\r\n//         <Modal isOpen={this.state.modalIsOpen}>\r\n//           <ModalHeader toggle={this.toggleModal.bind(this)}>Create Event</ModalHeader>\r\n//           <ModalBody>Modal Body</ModalBody>\r\n//           <ModalFooter>\r\n//             <Button color=\"primary\">Save</Button>\r\n//             <Button color=\"secondary\" onClick={this.toggleModal.bind(this)}>Cancel</Button>        \r\n//           </ModalFooter>\r\n//         </Modal>\r\n//         <Event />\r\n//       </Container>\r\n//     )\r\n//   }\r\n// }\r\n\r\n// export default Eventlist;\r\n\r\n/* https://youtu.be/qPF_7wl_sYI Modal and button */\r\n\r\n// ===============================================================================================\r\n\r\n// import {Container, Button, Modal, Row, Col} from 'react-bootstrap'\r\n// import React from 'react'\r\n// import Event from \"./Event\"\r\n// import './Eventlist.cimport 'bootstrap/dist/css/bootstrap.min.css'\r\n// \r\n// class Eventlist extends React.Component {\r\n// constructor() {    // super()\r\n    // this.state=  // show:false,\r\n    // }\r\n  // }\r\n  // handleModal(){\r\n  // this.setState({show:true})\r\n// \r\n  // }\r\n  // render(){\r\n    // return (\r\n      // <Container className=\"Eventlis        {/* <Row id=\"Elist\"> */}\r\n          // <h1>Event list</h1>\r\n        // </Row>\r\n        // <Row id=\"Button\">\r\n          {/* <Button onClick={() => {this.handleModal()}}>Add Event</Button> */}\r\n          {/* <Modal show={this.state.show}> */}\r\n            {/* <Modal.Header>Header</Modal.Header> */}\r\n            {/* <Modal.Body>body</Modal.Body> */}\r\n            {/* <Modal.Footer> */}\r\n              {/* <Button color=\"primary\">Save</Button> */}\r\n              {/* <Button color=\"secondary\">Cancel</Button>               */}\r\n            {/* </Modal.Footer> */}\r\n          {/* </Modal> */}\r\n        {/* </Row> */}\r\n        // <Row>\r\n          {/* <Event /> */}\r\n        {/* </Row> */}\r\n      // </Container>\r\n    // )\r\n  // }\r\n// }\r\n// export default Eventlist; \r\n\r\n"]},"metadata":{},"sourceType":"module"}